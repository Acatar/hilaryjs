<html>
<head>
    <title>Hilary Tests</title>
</head>
<body>
    <div id="mocha"></div>

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/async/lib/async.js"></script>
    <script src="bower_components/chai/chai.js"></script>
    <script src="bower_components/mocha/mocha.js"></script>
    <script>mocha.setup('bdd')</script>
    
    <script src="../../release/hilary.min.js"></script>
<!--    <script src="../../src/hilary.js"></script>-->
    
    <script src="../mockData.js"></script>
    <script src="../hilary.fixture.js"></script>
    <script src="../hilary.di.fixture.js"></script>
    <script src="../hilary.di.async.fixture.js"></script>
    <script src="../hilary.singletons.fixture.js"></script>
    
    <!-- run mocha after all test are loaded -->
    <script type="text/javascript" charset="utf-8">
        var createGuid = function () {
            return "zxxxxxxxxxxx".replace(/[xy]/g, function (c) {
                var r = Math.random() * 16 | 0, v = c === "x" ? r : r & 3 | 8;
                return v.toString(16);
            });
        };
        
        var spec = {
            describe: describe,
            it: it,
            expect: chai.expect,
            should: chai.should()
        }
        
        window['hilary.fixture'](Hilary, spec, createGuid, makeMockData);
        window['hilary.di.fixture'](Hilary, spec, createGuid, makeMockData);
        window['hilary.di.async.fixture'](Hilary, spec, createGuid, makeMockData, async);
        window['hilary.singletons.fixture'](Hilary, spec);
        
      // Only tests run in real browser, injected script run if options.run == true
      if (navigator.userAgent.indexOf('PhantomJS') < 0) {
          mocha.run();
      }
    </script>
</body>
</html>
